new WOW().init();
$('#contraste').click(function() {
    if ($(this).is(':checked')) {
        $("#misii").removeClass("azul");
    } else {
        $("#misii").addClass("azul");
    }
    boxReorder();
});
var current_btn_sidebar;
$(".btn_sidebar").click(function(event) {
    current_btn_sidebar = $(this).attr('id');
    $("#sidebar .selected").removeClass();
    $("#sidebar #" + current_btn_sidebar + " li").addClass("selected");
    current_btn_sidebar = current_btn_sidebar.replace("menu_", "box_");
    $(".ocultar").hide();
    $("#" + current_btn_sidebar).fadeIn();
    boxReorder();
    changeBreadcrumbs(current_btn_sidebar);
    $("#accordion_tramites .panel-default").each(function() {
        if ($(this).find(".panel-collapse").hasClass("in")) {
            $(this).removeClass("in");
        }
    });
});
var hcurrent_btn_sidebar;
$(".btn_hamburguesa").click(function(event) {
    hcurrent_btn_sidebar = $(this).attr('id');
    $("#sidebar .selected").removeClass();
    hcurrent_btn_sidebar = hcurrent_btn_sidebar.replace("hmenu_", "menu_");
    $("#sidebar #" + hcurrent_btn_sidebar + " li").addClass("selected");
    hcurrent_btn_sidebar = hcurrent_btn_sidebar.replace("menu_", "box_");
    $(".ocultar").hide();
    $("#" + hcurrent_btn_sidebar).fadeIn();
    boxReorder();
    changeBreadcrumbs(hcurrent_btn_sidebar);
});

function reemplazaSlash(str) {
    var strRplc = "";
    strRplc = str.replace(/\//g, "\/");
    return (strRplc);
}

function generar_tramites_en_linea() {
    var x = 1;
    var repetido = 0;
    var subitems = 0;
    var omitir = false;
    var coincidencias = [];
    var box_tramites = document.getElementById("box_tramites");
    var AddStrTL = "<div class='panel-group acordeon' id='accordion_tramites' role='tablist' aria-multiselectable='true'>";
    for (var i = 0; i < menuSOL.opciones.length; i++) {
        if ((menuSOL.opciones[i].nivel == "2") && (menuSOL.opciones[i].id != "1026")) {
            AddStrTL += "<div class='panel panel-default' id='tlacc_" + x + "'>";
            AddStrTL += " <div class='panel-heading' role='tab' id='acordeon_tramites_" + x + "'>";
            AddStrTL += "   <h4 class='panel-title'>";
            AddStrTL += "     <a class='arrow-click collapsed' role='button' data-toggle='collapse' data-parent='#accordion_tramites' href='#acc_collapse" + x + "' aria-expanded='false' aria-controls='acc_collapse" + x + "' data-placement='center' title='Haz clic para expandir' onclick='javascript:gotoDiv(\"tlacc_" + x + "\")'><div class='box_arrow'><div class='box_content_arrow'><div class='ic_arrow'></div></div></div>";
            AddStrTL += menuSOL.opciones[i].texto;
            AddStrTL += "     </a>";
            AddStrTL += "   </h4>";
            AddStrTL += " </div>";
            AddStrTL += " <div id='acc_collapse" + x + "' class='panel-collapse nivel2 collapse' role='tabpanel' aria-labelledby='acordeon_tramites_" + x + "'>";
            AddStrTL += "   <div class='panel-body'>";
            for (var j = 0; j < menuSOL.opciones.length; j++) {
                if ((menuSOL.opciones[j].nivel == "3") && (menuSOL.opciones[j].padre == menuSOL.opciones[i].id)) {
                    if (menuSOL.opciones[j].url == "") {
                        AddStrTL += "       <p class='accordion_special'>";
                        AddStrTL += "           <a href='javascript:openTlUrl(\"http:\/\/www.sii.cl\/servicios_online\/" + menuSOL.opciones[j].padre + "-" + menuSOL.opciones[j].id + ".html\",\"_blank\")\'>";
                        AddStrTL += menuSOL.opciones[j].texto;
                        AddStrTL += "               <i class='ic_lt_o'><i class='circle_right_arrow'></i></i>";
                        AddStrTL += "           </a>";
                        AddStrTL += "       </p>";
                    } else {
                        if (menuSOL.opciones[j].url != "acordeon") {
                            AddStrTL += "       <p class='accordion_special'>";
                            AddStrTL += "           <a href='javascript:openTlUrl(\"" + reemplazaSlash(menuSOL.opciones[j].url) + "\",\"_blank\" )'>";
                            AddStrTL += menuSOL.opciones[j].texto;
                            AddStrTL += "               <i class='ic_lt_o'><i class='circle_right_arrow'></i></i>";
                            AddStrTL += "           </a>";
                            AddStrTL += "       </p>";
                        } else {
                            AddStrTL += "       <div class='panel-group acordeon subacordeon' id='subacordeon_" + menuSOL.opciones[j].id + "' role='tablist' aria-multiselectable='true'>";
                            AddStrTL += "           <div class='panel panel-default'>";
                            AddStrTL += "               <div class='panel-heading' role='tab' id='subacordeon_titulo_" + menuSOL.opciones[j].id + "'>";
                            AddStrTL += "                   <h4 class='panel-title'>";
                            AddStrTL += "                       <a role='button' data-toggle='collapse' data-parent='#subacordeon_" + menuSOL.opciones[j].id + "' href='#subacordeon_body_" + menuSOL.opciones[j].id + "' class='arrow-click' aria-expanded='true' aria-controls='subacordeon_body_" + menuSOL.opciones[j].id + "'>";
                            AddStrTL += "                           <i class='ic_lt_o'><i class='circle_down_arrow'></i></i>";
                            AddStrTL += "                           <div class='title_subacc'>";
                            AddStrTL += "                               <i class='fa fa-chevron-circle-down pull-right' aria-hidden='true'></i>";
                            AddStrTL += menuSOL.opciones[j].texto;
                            AddStrTL += "                           </div>";
                            AddStrTL += "                       </a>";
                            AddStrTL += "                   </h4>";
                            AddStrTL += "               </div>";
                            AddStrTL += "               <div class='panel-collapse collapse in' id='subacordeon_body_" + menuSOL.opciones[j].id + "' role='tabpanel' aria-labelledby='subacordeon_titulo_" + menuSOL.opciones[j].id + "' aria-expanded='true'>";
                            AddStrTL += "                   <div class='panel-body'>";
                            AddStrTL += "                       <ul>";
                            for (var n = 0; n < menuSOL.opciones.length; n++) {
                                if ((menuSOL.opciones[n].nivel == "4") && (menuSOL.opciones[j].id == menuSOL.opciones[n].padre)) {
                                    AddStrTL += "                               <li>";
                                    AddStrTL += "                                   <a href='javascript:openTlUrl(\"" + reemplazaSlash(menuSOL.opciones[n].url) + "\",\"_blank\" )'>";
                                    AddStrTL += menuSOL.opciones[n].texto;
                                    AddStrTL += "                                   </a>";
                                    AddStrTL += "                               </li>";
                                }
                            }
                            AddStrTL += "                       </ul>";
                            AddStrTL += "                   </div>";
                            AddStrTL += "               </div>";
                            AddStrTL += "           </div>";
                            AddStrTL += "       </div>";
                        }
                    }
                }
            }
            if ((menuSOL.opciones[i].id === 1125) || (menuSOL.opciones[i].id === 3598) || (menuSOL.opciones[i].id === 1041) || (menuSOL.opciones[i].id === 1044) || (menuSOL.opciones[i].id === 1046) || (menuSOL.opciones[i].id === 3140) || (menuSOL.opciones[i].id === 1048) || (menuSOL.opciones[i].id === 1049)) {
                AddStrTL += "     <div id='ayudas_" + menuSOL.opciones[i].id + "' class='agregar_ayudas'><p class='agregar_ayudas_titulo'>Ayudas</p>";
                for (var z = 0; z < menuayudasSOL.opciones.length; z++) {
                    if (menuayudasSOL.opciones[z].padre == menuSOL.opciones[i].id) {
                        omitir = false;
                        repetido = 0;
                        for (var m = 0; m < coincidencias.length; m++) {
                            if (menuayudasSOL.opciones[z].id == coincidencias[m]) {
                                omitir = true;
                            }
                        }
                        if (omitir == false) {
                            subitems = 0;
                            coincidencias = [];
                            for (var y = 0; y < menuayudasSOL.opciones.length; y++) {
                                if ((menuayudasSOL.opciones[z].padre == menuayudasSOL.opciones[y].padre) && (menuayudasSOL.opciones[z].tipo == menuayudasSOL.opciones[y].tipo) && (menuayudasSOL.opciones[z].id != menuayudasSOL.opciones[y].id)) {
                                    coincidencias[subitems] = menuayudasSOL.opciones[y].id;
                                    subitems++;
                                }
                            }
                            if (subitems > 0) {
                                coincidencias[subitems] = menuayudasSOL.opciones[z].id;
                                AddStrTL += "           <div class='ayuda_icon link_listado_auxiliar'>";
                                AddStrTL += "                 <div class='desplegar' id='listado_ayudas" + menuayudasSOL.opciones[z].id + "' onclick='despliega_submenu(\"listado_ayudas" + menuayudasSOL.opciones[z].id + "\")'>";
                                AddStrTL += "                         <div class='box_ic_ayudas'>";
                                if (menuayudasSOL.opciones[z].tipo == 1) {
                                    AddStrTL += "                            <div class='ayudas_ic_pf'></div>";
                                    AddStrTL += "                        </div>";
                                    AddStrTL += "                        <p>Preguntas frecuentes</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 2) {
                                    AddStrTL += "                           <div class='ayudas_ic_bulb'></div>";
                                    AddStrTL += "                       </div>";
                                    AddStrTL += "                       <p>C&oacute;mo se hace para..?</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 3) {
                                    AddStrTL += "                           <div class='ayudas_ic_manuales'></div>";
                                    AddStrTL += "                       </div>";
                                    AddStrTL += "                       <p>Manuales y guias</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 4) {
                                    AddStrTL += "                           <div class='ayudas_ic_mi'></div>";
                                    AddStrTL += "                       </div>";
                                    AddStrTL += "                       <p>Mas informacion</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 5) {
                                    AddStrTL += "                           <div class='ayudas_ic_manuales'></div>";
                                    AddStrTL += "                       </div>";
                                    AddStrTL += "                       <p>Folleteria</p>";
                                }
                                AddStrTL += "                 </div>";
                                AddStrTL += "                 <ul class='listado_ayudas' id='box_listado_ayudas" + menuayudasSOL.opciones[z].id + "'>";
                                for (y = 0; y < menuayudasSOL.opciones.length; y++) {
                                    if ((menuayudasSOL.opciones[z].padre == menuayudasSOL.opciones[y].padre) && (menuayudasSOL.opciones[z].tipo == menuayudasSOL.opciones[y].tipo)) {
                                        AddStrTL += "                              <li><a href='javascript:openTlUrl(\"" + reemplazaSlash(menuayudasSOL.opciones[y].url) + "\",\"_blank\" )'>" + menuayudasSOL.opciones[y].texto + "</a></li>";
                                    }
                                }
                                AddStrTL += "                 </ul>";
                                AddStrTL += "           </div>";
                            } else {
                                AddStrTL += "               <div class='ayuda_icon link_listado_auxiliar'>";
                                AddStrTL += "                 <a href='javascript:openTlUrl(\"" + reemplazaSlash(menuayudasSOL.opciones[z].url) + "\",\"_blank\" )'>";
                                AddStrTL += "                   <div class='box_ic_ayudas'>";
                                if (menuayudasSOL.opciones[z].tipo == 1) {
                                    AddStrTL += "                       <div class='ayudas_ic_pf'></div>";
                                    AddStrTL += "                   </div>";
                                    AddStrTL += "                   <p>Preguntas frecuentes</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 2) {
                                    AddStrTL += "                       <div class='ayudas_ic_bulb'></div>";
                                    AddStrTL += "                   </div>";
                                    AddStrTL += "                   <p>C&oacute;mo se hace para..?</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 3) {
                                    AddStrTL += "                       <div class='ayudas_ic_manuales'></div>";
                                    AddStrTL += "                   </div>";
                                    AddStrTL += "                   <p>Manuales y guias</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 4) {
                                    AddStrTL += "                       <div class='ayudas_ic_mi'></div>";
                                    AddStrTL += "                   </div>";
                                    AddStrTL += "                   <p>Mas informacion</p>";
                                }
                                if (menuayudasSOL.opciones[z].tipo == 5) {
                                    AddStrTL += "                       <div class='ayudas_ic_manuales'></div>";
                                    AddStrTL += "                   </div>";
                                    AddStrTL += "                   <p>Folleteria</p>";
                                }
                                AddStrTL += "                 </a>";
                                AddStrTL += "               </div>";
                            }
                        }
                    }
                }
                AddStrTL += "     </div>";
            }
            x++;
            AddStrTL += "   </div>";
            AddStrTL += " </div>";
            AddStrTL += "</div>";
        }
    }
    AddStrTL += "</div>";
    box_tramites.insertAdjacentHTML("afterbegin", AddStrTL);
}
$(".link_listado_auxiliar").click(function() {
    if (($(this).closest(".ayuda_icon").find("#listado_auxiliar")).is(":visible")) {
        $(this).closest(".ayuda_icon").find("#listado_auxiliar").hide();
    } else {
        $(this).closest(".ayuda_icon").find("#listado_auxiliar").fadeIn();
    }
});

function open_misii_overlay() {
    $("body").css("overflow", "hidden");
    $("#misii_overlay").fadeIn();
}

function cerrar_misii_overlay() {
    $("body").css("overflow", "auto");
    $("#misii_overlay").fadeOut();
}

function volver_tl(volver) {
    $("#accordion_tramites_ayudas").hide();
    $("#accordion_tramites").fadeIn();
    $('html, body').animate({
        scrollTop: $("#" + volver).offset().top,
    }, 500, 'linear')
}

function changeBreadcrumbs(divIn) {
    if (divIn == "box_home") {
        $("#miga").empty().append("<li><a href='http://homer.sii.cl/'>Home</a></li><li><a href='siihome.cgi'>Mi SII</a></li><li class='active'>Inicio</li>");
    }
    if (divIn == "box_datos_contribuyente") {
        $("#miga").empty().append("<li><a href='http://homer.sii.cl/'>Home</a></li><li><a href='siihome.cgi'>Mi SII</a></li><li class='active'>Datos Personales y Tributarios</li>");
    }
    if (divIn == "box_tramites_en_linea") {
        $("#miga").empty().append("<li><a href='http://homer.sii.cl/'>Home</a></li><li><a href='siihome.cgi'>Mi SII</a></li><li class='active'>Tr&aacute;mites en L&iacute;nea</li>");
    }
    if (divIn == "box_expediente") {
        $("#miga").empty().append("<li><a href='http://homer.sii.cl/'>Home</a></li><li><a href='siihome.cgi'>Mi SII</a></li><li class='active'>Expediente Electr&oacute;nico</li>");
    }
    if (divIn == "box_comunicados_sii") {
        $("#miga").empty().append("<li><a href='http://homer.sii.cl/'>Home</a></li><li><a href='siihome.cgi'>Mi SII</a></li><li class='active'>SII te informa</li>");
    }
}
$("#profile_user_link").click(function(event) {
    $("#sidebar .selected").removeClass();
    $("#sidebar #menu_datos_contribuyente li").addClass("selected");
    $(".ocultar").hide();
    call_option(112);
    $("#box_datos_contribuyente").fadeIn();
    changeBreadcrumbs("box_datos_contribuyente");
    boxReorder();
});

function boxReorder() {
    var container = document.querySelector('#contenido_home');
    var msnry = new Masonry(container, {
        itemSelector: '.grid-item'
    });
}

function resizeHome() {
    $("#box_home").css("height", "auto");
    var homesize = $("#boxNotif").height();
    $("#box_home").css("height", homesize + 150 + "px");
}

function goNotifOverlay() {
    $(".white_overlay").fadeIn();
    $("#boxNotif").fadeIn();
    setTimeout(function() {
        call_option(201);
    }, 1000);
    boxReorder();
}

function goNotif() {
    $("#sidebar .selected").removeClass();
    $("#sidebar #menu_comunicados_sii li").addClass("selected");
    $(".ocultar").hide();
    $("#box_comunicados_sii").fadeIn();
    $("#boxNotif").fadeIn();
    setTimeout(function() {
        $("#accordionComu #comunica1 a").trigger("click");
        call_option(201);
    }, 1100);
    boxReorder();
}

function goSituacion() {
    $("#sidebar .selected").removeClass();
    $("#sidebar #menu_comunicados_sii li").addClass("selected");
    $(".ocultar").hide();
    $("#box_comunicados_sii").fadeIn();
    setTimeout(function() {
        $("#accordionComu #comunica4 a").trigger("click");
        callMessage();
    }, 1100);
    boxReorder();
}

function goAnotacion() {
    $("#sidebar .selected").removeClass();
    $("#sidebar #menu_comunicados_sii li").addClass("selected");
    $(".ocultar").hide();
    $("#box_comunicados_sii").fadeIn();
    setTimeout(function() {
        $("#accordionComu #collapseComu05").addClass('in');
    }, 1000);
    boxReorder();
}
$(window).on('resize', function() {
    if ($("#boxNotif").is(":visible")) {
        resizeHome();
    }
});

function gotoDiv(IDref) {
    var backDiv = "#" + IDref;
    var anchoActual = $('body').innerWidth();
    anchoActual = anchoActual + 17;
    $.easing.def = 'easeOutBounce';
    setTimeout(function() {
        if (anchoActual < 768) {
            $([document.documentElement, document.body]).animate({
                scrollTop: $(backDiv).offset().top - 65
            }, {
                duration: "fast",
                easing: "easeOutExpo"
            });
        } else {
            $([document.documentElement, document.body]).animate({
                scrollTop: $(backDiv).offset().top - 5
            }, {
                duration: "fast",
                easing: "easeOutExpo"
            });
        }
    }, 500);
    if (IDref == "tlacc_6") {
        $('#modalBhe').modal('show');
    }
}

function despliega_submenu(idSubmenu) {
    $("#box_" + idSubmenu).toggleClass("mostrar");
}
$(document).ready(function() {
    console.log("INICIO");
    var accOpened = 0;
    var id_accOpened = "";
    var id_btn_sidebar = "";
    $('#accordionComu .collapse').on('show.bs.collapse', function() {
        var curracc = $(this).attr("id");
        if ((curracc == "collapseComu04") && $("#collapseComu04").is(":visible")) {} else {
            $('#accordionComu .panel_comunicaciones.collapse.in').each(function() {
                $(this).collapse('hide');
            });
        }
    });
    generar_tramites_en_linea();
    $("#sidebar .btn_sidebar").on("click", function() {
        id_btn_sidebar = $(this).attr("id");
        if (id_btn_sidebar === "menu_home") {
              
              $("#box_home .icono_titulo_seccion").css("display","block");
              $("#box_home h1").css("display","block");
              $("#box_home h2").css("display","block");
        }
        if (id_btn_sidebar === "menu_tramites_en_linea") {
            $('#txt-search').val('');
            $('#filter-records').hide();
            $('#limpiar_busqueda').hide();
            accOpened = $("#accordion_tramites" + ' .nivel2.collapse.in').length;
            if (accOpened > 0) {
                id_accOpened = $("#accordion_tramites" + ' .nivel2.collapse.in').attr("id");
                $("#" + id_accOpened + '.panel-collapse.in').collapse('hide');
            }
            $("#buscar #txt-search").focus();
        }
        if (id_btn_sidebar === "menu_comunicados_sii") {
            accOpened = $("#accordionComu" + ' .panel_comunicaciones.collapse.in').length;
            if (accOpened > 0) {
                id_accOpened = $("#accordionComu" + ' .panel_comunicaciones.collapse.in').attr("id");
                $("#" + id_accOpened + '.panel-collapse.in').collapse('hide');
            }
        }
    });
    $("#box_right #contenido_home #comunica_Link").on("click", function() {
        var xcolor = 0;
        while (xcolor < 500) {
            console.log(xcolor);
            $("#cuerpo #box_right #box_comunicados_sii #accordionComu #comunica1").animate({
                backgroundColor: "#aa0000"
            }, 2000);
            $("#cuerpo #box_right #box_comunicados_sii #accordionComu #comunica1").animate({
                backgroundColor: "#f5f5f5"
            }, 2000);
            xcolor++;
        }
    });
    heightProfile();
    $('#sidebar').tooltip();
    var sw_up = 1;
    $("#font_up").click(function() {
        if (sw_up < 2) {
            var currentSize_box_home_div = $('#box_home div').css('font-size');
            currentSize_box_home_div = parseFloat(currentSize_box_home_div) + 2;
            $('#box_home div').css('font-size', currentSize_box_home_div);
            var currentSize_box_datos_h4 = $('#accordionCntrb h4 a').css('font-size');
            currentSize_box_datos_h4 = parseFloat(currentSize_box_datos_h4) + 2;
            $('#accordionCntrb h4 a').css('font-size', currentSize_box_datos_h4);
            var currentSize_box_datos_h3 = $('#accordionCntrb h3').css('font-size');
            currentSize_box_datos_h3 = parseFloat(currentSize_box_datos_h3) + 2;
            $('#accordionCntrb h3').css('font-size', currentSize_box_datos_h3);
            var currentSize_box_datos_h2 = $('#accordionCntrb h2').css('font-size');
            currentSize_box_datos_h2 = parseFloat(currentSize_box_datos_h2) + 2;
            $('#accordionCntrb h2').css('font-size', currentSize_box_datos_h2);
            var currentSize_box_datos_th = $('#accordionCntrb table tr th').css('font-size');
            currentSize_box_datos_th = parseFloat(currentSize_box_datos_th) + 2;
            $('#accordionCntrb table tr th').css('font-size', currentSize_box_datos_th);
            var currentSize_box_datos_td = $('#accordionCntrb table tr td').css('font-size');
            currentSize_box_datos_td = parseFloat(currentSize_box_datos_td) + 2;
            $('#accordionCntrb table tr td').css('font-size', currentSize_box_datos_td);
            var currentSize_box_datos_p = $('#accordionCntrb p').css('font-size');
            currentSize_box_datos_p = parseFloat(currentSize_box_datos_p) + 2;
            $('#accordionCntrb p').css('font-size', currentSize_box_datos_p);
            var currentSize_box_tramites_a = $('#accordion_tramites a').css('font-size');
            currentSize_box_tramites_a = parseFloat(currentSize_box_tramites_a) + 2;
            $('#accordion_tramites a').css('font-size', currentSize_box_tramites_a);
            var currentSize_box_expediente_a = $('#tl_link_expediente h4').css('font-size');
            currentSize_box_expediente_a = parseFloat(currentSize_box_expediente_a) + 2;
            $('#tl_link_expediente h4').css('font-size', currentSize_box_expediente_a);
            var currentSize_box_expediente_title_subacc = $('#accordion_tramites .title_subacc').css('font-size');
            currentSize_box_expediente_title_subacc = parseFloat(currentSize_box_expediente_title_subacc) + 2;
            $('#accordion_tramites .title_subacc').css('font-size', currentSize_box_expediente_title_subacc);
            var currentSize_box_expediente_p = $('#contenido .agregar_ayudas p').css('font-size');
            currentSize_box_expediente_p = parseFloat(currentSize_box_expediente_p) + 2;
            $('#contenido .agregar_ayudas p').css('font-size', currentSize_box_expediente_p);
            var currentSize_box_comunicados_sii_div = $('#box_comunicados_sii a.txt_icono_titulo').css('font-size');
            currentSize_box_comunicados_sii_div = parseFloat(currentSize_box_comunicados_sii_div) + 2;
            $('#box_comunicados_sii a.txt_icono_titulo').css('font-size', currentSize_box_comunicados_sii_div);
            var currentSize_box_comunicados_sii_p = $('#box_comunicados_sii p').css('font-size');
            currentSize_box_comunicados_sii_p = parseFloat(currentSize_box_comunicados_sii_p) + 2;
            $('#box_comunicados_sii p').css('font-size', currentSize_box_comunicados_sii_p);
            var currentSize_box_comunicados_sii_h4a = $('#box_comunicados_sii h4 a').css('font-size');
            currentSize_box_comunicados_sii_h4a = parseFloat(currentSize_box_comunicados_sii_h4a) + 2;
            $('#box_comunicados_sii h4 a').css('font-size', currentSize_box_comunicados_sii_h4a);
            var currentSize_box_comunicados_sii_th = $('#box_comunicados_sii table tr th').css('font-size');
            currentSize_box_comunicados_sii_th = parseFloat(currentSize_box_comunicados_sii_th) + 2;
            $('#box_comunicados_sii table tr th').css('font-size', currentSize_box_comunicados_sii_th);
            var currentSize_box_comunicados_sii_td = $('#box_comunicados_sii table tr td').css('font-size');
            currentSize_box_comunicados_sii_td = parseFloat(currentSize_box_comunicados_sii_td) + 2;
            $('#box_comunicados_sii table tr td').css('font-size', currentSize_box_comunicados_sii_td);
            var currentSize_box_comunicados_sii_h3 = $('#box_comunicados_sii h3').css('font-size');
            currentSize_box_comunicados_sii_h3 = parseFloat(currentSize_box_comunicados_sii_h3) + 2;
            $('#box_comunicados_sii h3').css('font-size', currentSize_box_comunicados_sii_h3);
            sw_up++;
            $("#font_down").removeClass("font_selected");
            if (sw_up == 2) {
                $("#font_up").addClass("font_selected");
            }
        }
        return false;
    });
    $("#font_down").click(function() {
        if (sw_up > 0) {
            var currentSizeDown_box_home_div = $('#box_home div').css('font-size');
            currentSizeDown_box_home_div = parseFloat(currentSizeDown_box_home_div) - 2;
            $('#box_home div').css('font-size', currentSizeDown_box_home_div);
            var currentSizeDown_box_datos_h4 = $('#accordionCntrb h4 a').css('font-size');
            currentSizeDown_box_datos_h4 = parseFloat(currentSizeDown_box_datos_h4) - 2;
            $('#accordionCntrb h4 a').css('font-size', currentSizeDown_box_datos_h4);
            var currentSizeDown_box_datos_h3 = $('#accordionCntrb h3').css('font-size');
            currentSizeDown_box_datos_h3 = parseFloat(currentSizeDown_box_datos_h3) - 2;
            $('#accordionCntrb h3').css('font-size', currentSizeDown_box_datos_h3);
            var currentSizeDown_box_datos_h2 = $('#accordionCntrb h2').css('font-size');
            currentSizeDown_box_datos_h2 = parseFloat(currentSizeDown_box_datos_h2) - 2;
            $('#accordionCntrb h2').css('font-size', currentSizeDown_box_datos_h2);
            var currentSizeDown_box_datos_th = $('#accordionCntrb table tr th').css('font-size');
            currentSizeDown_box_datos_th = parseFloat(currentSizeDown_box_datos_th) - 2;
            $('#accordionCntrb table tr th').css('font-size', currentSizeDown_box_datos_th);
            var currentSizeDown_box_datos_td = $('#accordionCntrb table tr td').css('font-size');
            currentSizeDown_box_datos_td = parseFloat(currentSizeDown_box_datos_td) - 2;
            $('#accordionCntrb table tr td').css('font-size', currentSizeDown_box_datos_td);
            var currentSizeDown_box_datos_p = $('#accordionCntrb p').css('font-size');
            currentSizeDown_box_datos_p = parseFloat(currentSizeDown_box_datos_p) - 2;
            $('#accordionCntrb p').css('font-size', currentSizeDown_box_datos_p);
            var currentSizeDown_box_tramites_a = $('#accordion_tramites a').css('font-size');
            currentSizeDown_box_tramites_a = parseFloat(currentSizeDown_box_tramites_a) - 2;
            $('#accordion_tramites a').css('font-size', currentSizeDown_box_tramites_a);
            var currentSizeDown_box_expediente_a = $('#tl_link_expediente h4').css('font-size');
            currentSizeDown_box_expediente_a = parseFloat(currentSizeDown_box_expediente_a) - 2;
            $('#tl_link_expediente h4').css('font-size', currentSizeDown_box_expediente_a);
            var currentSizeDown_box_expediente_title_subacc = $('#accordion_tramites .title_subacc').css('font-size');
            currentSizeDown_box_expediente_title_subacc = parseFloat(currentSizeDown_box_expediente_title_subacc) - 2;
            $('#accordion_tramites .title_subacc').css('font-size', currentSizeDown_box_expediente_title_subacc);
            var currentSizeDown_box_expediente_p = $('#contenido .agregar_ayudas p').css('font-size');
            currentSizeDown_box_expediente_p = parseFloat(currentSizeDown_box_expediente_p) - 2;
            $('#contenido .agregar_ayudas p').css('font-size', currentSizeDown_box_expediente_p);
            var currentSizeDown_box_comunicados_sii_div = $('#box_comunicados_sii a.txt_icono_titulo').css('font-size');
            currentSizeDown_box_comunicados_sii_div = parseFloat(currentSizeDown_box_comunicados_sii_div) - 2;
            $('#box_comunicados_sii a.txt_icono_titulo').css('font-size', currentSizeDown_box_comunicados_sii_div);
            var currentSizeDown_box_comunicados_sii_p = $('#box_comunicados_sii p').css('font-size');
            currentSizeDown_box_comunicados_sii_p = parseFloat(currentSizeDown_box_comunicados_sii_p) - 2;
            $('#box_comunicados_sii p').css('font-size', currentSizeDown_box_comunicados_sii_p);
            var currentSizeDown_box_comunicados_sii_h4a = $('#box_comunicados_sii h4 a').css('font-size');
            currentSizeDown_box_comunicados_sii_h4a = parseFloat(currentSizeDown_box_comunicados_sii_h4a) - 2;
            $('#box_comunicados_sii h4 a').css('font-size', currentSizeDown_box_comunicados_sii_h4a);
            var currentSizeDown_box_comunicados_sii_th = $('#box_comunicados_sii table tr th').css('font-size');
            currentSizeDown_box_comunicados_sii_th = parseFloat(currentSizeDown_box_comunicados_sii_th) - 2;
            $('#box_comunicados_sii table tr th').css('font-size', currentSizeDown_box_comunicados_sii_th);
            var currentSizeDown_box_comunicados_sii_td = $('#box_comunicados_sii table tr td').css('font-size');
            currentSizeDown_box_comunicados_sii_td = parseFloat(currentSizeDown_box_comunicados_sii_td) - 2;
            $('#box_comunicados_sii table tr td').css('font-size', currentSizeDown_box_comunicados_sii_td);
            var currentSizeDown_box_comunicados_sii_h3 = $('#box_comunicados_sii h3').css('font-size');
            currentSizeDown_box_comunicados_sii_h3 = parseFloat(currentSizeDown_box_comunicados_sii_h3) - 2;
            $('#box_comunicados_sii h3').css('font-size', currentSizeDown_box_comunicados_sii_h3);
            sw_up--;
            $("#font_up").removeClass("font_selected");
            if (sw_up == 0) {
                $("#font_down").addClass("font_selected");
            }
        }
        return false;
    });
    $('#profile').bind('DOMSubtreeModified', function(event) {
        heightProfile();
    });
    $(window).resize(function() {
        heightProfile();
    });

    function heightProfile() {
        var altoProfile = $('#profile').height();
        altoProfile = altoProfile + 10;
        $('#profile_division').css("height", altoProfile + "px");
        $('#profile_buttons').css("height", altoProfile + "px");
    }
});